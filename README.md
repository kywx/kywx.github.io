I love finite state machines